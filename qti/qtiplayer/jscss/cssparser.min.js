var CSS_ESCAPE='\\';var IS_HEX_DIGIT=1;var START_IDENT=2;var IS_IDENT=4;var IS_WHITESPACE=8;var W=IS_WHITESPACE;var I=IS_IDENT;var S=START_IDENT;var SI=IS_IDENT|START_IDENT;var XI=IS_IDENT|IS_HEX_DIGIT;var XSI=IS_IDENT|START_IDENT|IS_HEX_DIGIT;function CSSScanner(a){this.init(a)}CSSScanner.prototype={kLexTable:[0,0,0,0,0,0,0,0,0,W,W,0,W,W,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,W,0,0,0,0,0,0,0,0,0,0,0,0,I,0,0,XI,XI,XI,XI,XI,XI,XI,XI,XI,XI,0,0,0,0,0,0,0,XSI,XSI,XSI,XSI,XSI,XSI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,0,S,0,0,SI,0,XSI,XSI,XSI,XSI,XSI,XSI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI,SI],kHexValues:{"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,"a":10,"b":11,"c":12,"d":13,"e":14,"f":15},mString:"",mPos:0,mPreservedPos:[],mCurrentLine:0,init:function(a){this.mString=a;this.mPos=0;this.mPreservedPos=[]},getCurrentPos:function(){return this.mPos},preserveState:function(){this.mPreservedPos.push(this.mPos)},restoreState:function(){if(this.mPreservedPos.length){this.mPos=this.mPreservedPos.pop()}},forgetState:function(){if(this.mPreservedPos.length){this.mPreservedPos.pop()}},read:function(){if(this.mPos<this.mString.length)return this.mString.charAt(this.mPos++);return-1},peek:function(){if(this.mPos<this.mString.length)return this.mString.charAt(this.mPos);return-1},isHexDigit:function(c){var a=c.charCodeAt(0);return(a<256&&(this.kLexTable[a]&IS_HEX_DIGIT)!=0)},isIdentStart:function(c){var a=c.charCodeAt(0);return(a>=256||(this.kLexTable[a]&START_IDENT)!=0)},startsWithIdent:function(a,b){var c=a.charCodeAt(0);return this.isIdentStart(a)||(a=="-"&&this.isIdentStart(b))},isIdent:function(c){var a=c.charCodeAt(0);return(a>=256||(this.kLexTable[a]&IS_IDENT)!=0)},pushback:function(){this.mPos--},nextHexValue:function(){var c=this.read();if(c==-1||!this.isHexDigit(c))return new jscsspToken(jscsspToken.NULL_TYPE,null);var s=c;c=this.read();while(c!=-1&&this.isHexDigit(c)){s+=c;c=this.read()}if(c!=-1)this.pushback();return new jscsspToken(jscsspToken.HEX_TYPE,s)},gatherEscape:function(){var c=this.peek();if(c==-1)return"";if(this.isHexDigit(c)){var a=0;for(var i=0;i<6;i++){c=this.read();if(this.isHexDigit(c))a=a*16+this.kHexValues[c.toLowerCase()];else if(!this.isHexDigit(c)&&!this.isWhiteSpace(c)){this.pushback();break}else break}if(i==6){c=this.peek();if(this.isWhiteSpace(c))this.read()}return String.fromCharCode(a)}c=this.read();if(c!="\n")return c;return""},gatherIdent:function(c){var s="";if(c==CSS_ESCAPE)s+=this.gatherEscape();else s+=c;c=this.read();while(c!=-1&&(this.isIdent(c)||c==CSS_ESCAPE)){if(c==CSS_ESCAPE)s+=this.gatherEscape();else s+=c;c=this.read()}if(c!=-1)this.pushback();return s},parseIdent:function(c){var a=this.gatherIdent(c);var b=this.peek();if(b=="("){a+=this.read();return new jscsspToken(jscsspToken.FUNCTION_TYPE,a)}return new jscsspToken(jscsspToken.IDENT_TYPE,a)},isDigit:function(c){return(c>='0')&&(c<='9')},parseComment:function(c){var s=c;while((c=this.read())!=-1){s+=c;if(c=="*"){c=this.read();if(c==-1)break;if(c=="/"){s+=c;break}this.pushback()}}return new jscsspToken(jscsspToken.COMMENT_TYPE,s)},parseNumber:function(c){var s=c;var a=false;while((c=this.read())!=-1){if(c=="."){if(a)break;else{s+=c;a=true}}else if(this.isDigit(c))s+=c;else break}if(this.startsWithIdent(c,this.peek())){var b=this.gatherIdent(c);s+=b;return new jscsspToken(jscsspToken.DIMENSION_TYPE,s,b)}else if(c=="%"){s+="%";return new jscsspToken(jscsspToken.PERCENTAGE_TYPE,s)}else if(c!=-1)this.pushback();return new jscsspToken(jscsspToken.NUMBER_TYPE,s)},parseString:function(a){var s=a;var b=a;var c;while((c=this.read())!=-1){if(c==a&&b!=CSS_ESCAPE){s+=c;break}else if(c==CSS_ESCAPE){c=this.peek();if(c==-1)break;else if(c=="\n"||c=="\r"||c=="\f"){d=c;c=this.read();if(d=="\r"){c=this.peek();if(c=="\n")c=this.read()}}else{s+=this.gatherEscape();c=this.peek()}}else if(c=="\n"||c=="\r"||c=="\f"){break}else s+=c;b=c}return new jscsspToken(jscsspToken.STRING_TYPE,s)},isWhiteSpace:function(c){var a=c.charCodeAt(0);return a<256&&(this.kLexTable[a]&IS_WHITESPACE)!=0},eatWhiteSpace:function(c){var s=c;while((c=this.read())!=-1){if(!this.isWhiteSpace(c))break;s+=c}if(c!=-1)this.pushback();return s},parseAtKeyword:function(c){return new jscsspToken(jscsspToken.ATRULE_TYPE,this.gatherIdent(c))},nextToken:function(){var c=this.read();if(c==-1)return new jscsspToken(jscsspToken.NULL_TYPE,null);if(this.startsWithIdent(c,this.peek()))return this.parseIdent(c);if(c=='@'){var a=this.read();if(a!=-1){var b=this.peek();this.pushback();if(this.startsWithIdent(a,b))return this.parseAtKeyword(c)}}if(c=="."||c=="+"||c=="-"){var a=this.peek();if(this.isDigit(a))return this.parseNumber(c);else if(a=="."&&c!="."){firstChar=this.read();var d=this.peek();this.pushback();if(this.isDigit(d))return this.parseNumber(c)}}if(this.isDigit(c)){return this.parseNumber(c)}if(c=="'"||c=='"')return this.parseString(c);if(this.isWhiteSpace(c)){var s=this.eatWhiteSpace(c);this.mCurrentLine+=countChar(s);return new jscsspToken(jscsspToken.WHITESPACE_TYPE,s)}if(c=="|"||c=="~"||c=="^"||c=="$"||c=="*"){var a=this.read();if(a=="="){switch(c){case"~":return new jscsspToken(jscsspToken.INCLUDES_TYPE,"~=");case"|":return new jscsspToken(jscsspToken.DASHMATCH_TYPE,"|=");case"^":return new jscsspToken(jscsspToken.BEGINSMATCH_TYPE,"=");case"$":return new jscsspToken(jscsspToken.ENDSMATCH_TYPE,"$=");case"*":return new jscsspToken(jscsspToken.CONTAINSMATCH_TYPE,"*=");default:break}}else if(a!=-1)this.pushback()}if(c=="/"&&this.peek()=="*")return this.parseComment(c);return new jscsspToken(jscsspToken.SYMBOL_TYPE,c)}};function CSSParser(a){this.mToken=null;this.mLookAhead=null;this.mScanner=new CSSScanner(a);this.mPreserveWS=true;this.mPreserveComments=true;this.mPreservedTokens=[]}CSSParser.prototype={kINHERIT:"inherit",kBORDER_WIDTH_NAMES:{"thin":true,"medium":true,"thick":true},kBORDER_STYLE_NAMES:{"none":true,"hidden":true,"dotted":true,"dashed":true,"solid":true,"double":true,"groove":true,"ridge":true,"inset":true,"outset":true},kCOLOR_NAMES:{"transparent":true,"black":true,"silver":true,"gray":true,"white":true,"maroon":true,"red":true,"purple":true,"fuchsia":true,"green":true,"lime":true,"olive":true,"yellow":true,"navy":true,"blue":true,"teal":true,"aqua":true,"aliceblue":true,"antiquewhite":true,"aqua":true,"aquamarine":true,"azure":true,"beige":true,"bisque":true,"black":true,"blanchedalmond":true,"blue":true,"blueviolet":true,"brown":true,"burlywood":true,"cadetblue":true,"chartreuse":true,"chocolate":true,"coral":true,"cornflowerblue":true,"cornsilk":true,"crimson":true,"cyan":true,"darkblue":true,"darkcyan":true,"darkgoldenrod":true,"darkgray":true,"darkgreen":true,"darkgrey":true,"darkkhaki":true,"darkmagenta":true,"darkolivegreen":true,"darkorange":true,"darkorchid":true,"darkred":true,"darksalmon":true,"darkseagreen":true,"darkslateblue":true,"darkslategray":true,"darkslategrey":true,"darkturquoise":true,"darkviolet":true,"deeppink":true,"deepskyblue":true,"dimgray":true,"dimgrey":true,"dodgerblue":true,"firebrick":true,"floralwhite":true,"forestgreen":true,"fuchsia":true,"gainsboro":true,"ghostwhite":true,"gold":true,"goldenrod":true,"gray":true,"green":true,"greenyellow":true,"grey":true,"honeydew":true,"hotpink":true,"indianred":true,"indigo":true,"ivory":true,"khaki":true,"lavender":true,"lavenderblush":true,"lawngreen":true,"lemonchiffon":true,"lightblue":true,"lightcoral":true,"lightcyan":true,"lightgoldenrodyellow":true,"lightgray":true,"lightgreen":true,"lightgrey":true,"lightpink":true,"lightsalmon":true,"lightseagreen":true,"lightskyblue":true,"lightslategray":true,"lightslategrey":true,"lightsteelblue":true,"lightyellow":true,"lime":true,"limegreen":true,"linen":true,"magenta":true,"maroon":true,"mediumaquamarine":true,"mediumblue":true,"mediumorchid":true,"mediumpurple":true,"mediumseagreen":true,"mediumslateblue":true,"mediumspringgreen":true,"mediumturquoise":true,"mediumvioletred":true,"midnightblue":true,"mintcream":true,"mistyrose":true,"moccasin":true,"navajowhite":true,"navy":true,"oldlace":true,"olive":true,"olivedrab":true,"orange":true,"orangered":true,"orchid":true,"palegoldenrod":true,"palegreen":true,"paleturquoise":true,"palevioletred":true,"papayawhip":true,"peachpuff":true,"peru":true,"pink":true,"plum":true,"powderblue":true,"purple":true,"red":true,"rosybrown":true,"royalblue":true,"saddlebrown":true,"salmon":true,"sandybrown":true,"seagreen":true,"seashell":true,"sienna":true,"silver":true,"skyblue":true,"slateblue":true,"slategray":true,"slategrey":true,"snow":true,"springgreen":true,"steelblue":true,"tan":true,"teal":true,"thistle":true,"tomato":true,"turquoise":true,"violet":true,"wheat":true,"white":true,"whitesmoke":true,"yellow":true,"yellowgreen":true,"activeborder":true,"activecaption":true,"appworkspace":true,"background":true,"buttonface":true,"buttonhighlight":true,"buttonshadow":true,"buttontext":true,"captiontext":true,"graytext":true,"highlight":true,"highlighttext":true,"inactiveborder":true,"inactivecaption":true,"inactivecaptiontext":true,"infobackground":true,"infotext":true,"menu":true,"menutext":true,"scrollbar":true,"threeddarkshadow":true,"threedface":true,"threedhighlight":true,"threedlightshadow":true,"threedshadow":true,"window":true,"windowframe":true,"windowtext":true},kLIST_STYLE_TYPE_NAMES:{"decimal":true,"decimal-leading-zero":true,"lower-roman":true,"upper-roman":true,"georgian":true,"armenian":true,"lower-latin":true,"lower-alpha":true,"upper-latin":true,"upper-alpha":true,"lower-greek":true,"disc":true,"circle":true,"square":true,"none":true,"box":true,"check":true,"diamond":true,"hyphen":true,"lower-armenian":true,"cjk-ideographic":true,"ethiopic-numeric":true,"hebrew":true,"japanese-formal":true,"japanese-informal":true,"simp-chinese-formal":true,"simp-chinese-informal":true,"syriac":true,"tamil":true,"trad-chinese-formal":true,"trad-chinese-informal":true,"upper-armenian":true,"arabic-indic":true,"binary":true,"bengali":true,"cambodian":true,"khmer":true,"devanagari":true,"gujarati":true,"gurmukhi":true,"kannada":true,"lower-hexadecimal":true,"lao":true,"malayalam":true,"mongolian":true,"myanmar":true,"octal":true,"oriya":true,"persian":true,"urdu":true,"telugu":true,"tibetan":true,"upper-hexadecimal":true,"afar":true,"ethiopic-halehame-aa-et":true,"ethiopic-halehame-am-et":true,"amharic-abegede":true,"ehiopic-abegede-am-et":true,"cjk-earthly-branch":true,"cjk-heavenly-stem":true,"ethiopic":true,"ethiopic-abegede":true,"ethiopic-abegede-gez":true,"hangul-consonant":true,"hangul":true,"hiragana-iroha":true,"hiragana":true,"katakana-iroha":true,"katakana":true,"lower-norwegian":true,"oromo":true,"ethiopic-halehame-om-et":true,"sidama":true,"ethiopic-halehame-sid-et":true,"somali":true,"ethiopic-halehame-so-et":true,"tigre":true,"ethiopic-halehame-tig":true,"tigrinya-er-abegede":true,"ethiopic-abegede-ti-er":true,"tigrinya-et":true,"ethiopic-halehame-ti-et":true,"upper-greek":true,"asterisks":true,"footnotes":true,"circled-decimal":true,"circled-lower-latin":true,"circled-upper-latin":true,"dotted-decimal":true,"double-circled-decimal":true,"filled-circled-decimal":true,"parenthesised-decimal":true,"parenthesised-lower-latin":true},currentToken:function(){return this.mToken},getHexValue:function(){this.mToken=this.mScanner.nextHexValue();return this.mToken},getToken:function(a,b){if(this.mLookAhead){this.mToken=this.mLookAhead;this.mLookAhead=null;return this.mToken}this.mToken=this.mScanner.nextToken();while(this.mToken&&((a&&this.mToken.isWhiteSpace())||(b&&this.mToken.isComment())))this.mToken=this.mScanner.nextToken();return this.mToken},lookAhead:function(a,b){var c=this.mToken;this.mScanner.preserveState();var d=this.getToken(a,b);this.mScanner.restoreState();this.mToken=c;return d},ungetToken:function(){this.mLookAhead=this.mToken},addUnknownAtRule:function(a,b){var c=[];var d=this.getToken(false,false);while(d.isNotNull()){b+=d.value;if(d.isSymbol(";")&&!c.length)break;else if(d.isSymbol("{")||d.isSymbol("(")||d.isSymbol("[")||d.type=="function"){c.push(d.isFunction()?"(":d.value)}else if(d.isSymbol("}")||d.isSymbol(")")||d.isSymbol("]")){if(c.length){var e=c[c.length-1];if((d.isSymbol("}")&&e=="{")||(d.isSymbol(")")&&e=="(")||(d.isSymbol("]")&&e=="[")){c.pop();if(!c.length&&d.isSymbol("}"))break}}}d=this.getToken(false,false)}this.addUnknownRule(a,b)},addUnknownRule:function(a,b){var c=new jscsspErrorRule();c.parsedCssText=b;c.parentStyleSheet=a;a.cssRules.push(c)},addWhitespace:function(a,b){var c=new jscsspWhitespace();c.parsedCssText=b;c.parentStyleSheet=a;a.cssRules.push(c)},addComment:function(a,b){var c=new jscsspComment();c.parsedCssText=b;c.parentStyleSheet=a;a.cssRules.push(c)},parseCharsetRule:function(a,b){var s=a.value;var c=this.getToken(false,false);if(c.isWhiteSpace(" ")){s+=c.value;c=this.getToken(false,false);if(c.isString()){s+=c.value;var d=c.value;c=this.getToken(false,false);if(c.isSymbol(";")){s+=c.value;var e=new jscsspCharsetRule();e.encoding=d;e.parsedCssText=s;e.parentStyleSheet=b;b.cssRules.push(e);return true}}}this.addUnknownAtRule(b,s);return false},parseImportRule:function(a,b){var s=a.value;this.preserveState();var c=this.getToken(true,true);var d=[];var e="";if(c.isString()){e=c.value;s+=" "+e}else if(c.isFunction("url(")){c=this.getToken(true,true);var f=this.parseURL(c);if(f){e="url("+f;s+=" "+e}}if(e){c=this.getToken(true,true);while(c.isIdent()){s+=" "+c.value;d.push(c.value);c=this.getToken(true,true);if(!c)break;if(c.isSymbol(",")){s+=","}else if(c.isSymbol(";")){break}else break;c=this.getToken(true,true)}if(c.isSymbol(";")&&e&&d.length){s+=";"this.forgetState();var g=new jscsspImportRule();g.parsedCssText=s;g.href=e;g.media=d;g.parentStyleSheet=b;b.cssRules.push(g);return true}}this.restoreState();this.addUnknownAtRule(b,"@import");return false},parseVariablesRule:function(a,b){var s=a.value;var c=[];var e=false;this.preserveState();a=this.getToken(true,true);var f=[];var g=false;while(a.isNotNull()){if(a.isIdent()){g=true;s+=" "+a.value;f.push(a.value);a=this.getToken(true,true);if(a.isSymbol(",")){s+=","}else{if(a.isSymbol("{"))this.ungetToken();else{a.type=jscsspToken.NULL_TYPE;break}}}else if(a.isSymbol("{"))break;else if(g){a.type=jscsspToken.NULL_TYPE;break}a=this.getToken(true,true)}if(a.isSymbol("{")){s+=" {";a=this.getToken(true,true);while(true){if(!a.isNotNull()){e=true;break}if(a.isSymbol("}")){s+="}";e=true;break}else{var d=this.parseDeclaration(a,c,true,false,b);s+=((d&&c.length)?" ":"")+d}a=this.getToken(true,false)}}if(e){this.forgetState();var h=new jscsspVariablesRule();h.parsedCssText=s;h.declarations=c;h.media=f;h.parentStyleSheet=b;b.cssRules.push(h)return true}this.restoreState();return false},parseNamespaceRule:function(a,b){var s=a.value;var c=false;this.preserveState();var d=this.getToken(true,true);if(d.isNotNull()){var e="";var f="";if(d.isIdent()){e=d.value;s+=" "+e;d=this.getToken(true,true)}if(d){var g=false;if(d.isString()){g=true;f=d.value;s+=" "+f}else if(d.isFunction("url(")){d=this.getToken(true,true);var h=this.parseURL(d);if(h){f+="url("+h;g=true;s+=" "+h}}}if(g){d=this.getToken(true,true);if(d.isSymbol(";")){s+=";";this.forgetState();var i=new jscsspNamespaceRule();i.parsedCssText=s;i.prefix=e;i.url=f;i.parentStyleSheet=b;b.cssRules.push(i);return true}}}this.restoreState();this.addUnknownAtRule(b,"@namespace");return false},parseFontFaceRule:function(a,b){var s=a.value;var c=false;var e=[];this.preserveState();var f=this.getToken(true,true);if(f.isNotNull()){if(f.isSymbol("{")){s+=" "+f.value;var f=this.getToken(true,false);while(true){if(f.isSymbol("}")){s+="}";c=true;break}else{var d=this.parseDeclaration(f,e,false,false,b);s+=((d&&e.length)?" ":"")+d}f=this.getToken(true,false)}}}if(c){this.forgetState();var g=new jscsspFontFaceRule();g.parsedCssText=s;g.descriptors=e;g.parentStyleSheet=b;b.cssRules.push(g)return true}this.restoreState();return false},parsePageRule:function(a,b){var s=a.value;var c=false;var e=[];this.preserveState();var f=this.getToken(true,true);var g="";if(f.isSymbol(":")||f.isIdent()){if(f.isSymbol(":")){g=":";f=this.getToken(false,false)}if(f.isIdent()){g+=f.value;s+=" "+g;f=this.getToken(true,true)}}if(f.isNotNull()){if(f.isSymbol("{")){s+=" "+f.value;var f=this.getToken(true,false);while(true){if(f.isSymbol("}")){s+="}";c=true;break}else{var d=this.parseDeclaration(f,e,true,true,b);s+=((d&&e.length)?" ":"")+d}f=this.getToken(true,false)}}}if(c){this.forgetState();var h=new jscsspPageRule();h.parsedCssText=s;h.pageSelector=g;h.declarations=e;h.parentStyleSheet=b;b.cssRules.push(h)return true}this.restoreState();return false},parseDefaultPropertyValue:function(a,b,c,d,e){var f="";var g=[];var h=false;var i=[];while(a.isNotNull()){if((a.isSymbol(";")||a.isSymbol("}")||a.isSymbol("!"))&&!g.length){if(a.isSymbol("}"))this.ungetToken();break}if(a.isIdent(this.kINHERIT)){if(i.length){return""}else{f=this.kINHERIT;var j=new jscsspVariable(kJscsspINHERIT_VALUE,e);i.push(j);a=this.getToken(true,true);break}}else if(a.isSymbol("{")||a.isSymbol("(")||a.isSymbol("[")){g.push(a.value)}else if(a.isSymbol("}")||a.isSymbol("]")){if(g.length){var k=g[g.length-1];if((a.isSymbol("}")&&k=="{")||(a.isSymbol(")")&&k=="(")||(a.isSymbol("]")&&k=="[")){g.pop()}}}if(a.isFunction()){if(a.isFunction("var(")){a=this.getToken(true,true);if(a.isIdent()){var l=a.value;a=this.getToken(true,true);if(a.isSymbol(")")){var j=new jscsspVariable(kJscsspVARIABLE_VALUE,e);f+="var("+l+")";j.name=l;i.push(j)}else return""}else return""}else{var m=a.value;a=this.getToken(false,true);var n=this.parseFunctionArgument(a);if(n){f+=m+n;var j=new jscsspVariable(kJscsspPRIMITIVE_VALUE,e);j.value=m+n;i.push(j)}else return""}}else if(a.isSymbol("#")){var o=this.parseColor(a);if(o){f+=o;var j=new jscsspVariable(kJscsspPRIMITIVE_VALUE,e);j.value=o;i.push(j)}else return""}else if(!a.isWhiteSpace()&&!a.isSymbol(",")){var j=new jscsspVariable(kJscsspPRIMITIVE_VALUE,e);j.value=a.value;i.push(j);f+=a.value}else f+=a.value;a=this.getToken(false,true)}if(i.length&&f){this.forgetState();b.push(this._createJscsspDeclarationFromValuesArray(d,i,f));return f}return""},parseMarginOrPaddingShorthand:function(a,b,c,d){var e=null;var f=null;var g=null;var h=null;var i=[];while(true){if(!a.isNotNull())break;if(a.isSymbol(";")||(c&&a.isSymbol("!"))||a.isSymbol("}")){if(a.isSymbol("}"))this.ungetToken();break}else if(!i.length&&a.isIdent(this.kINHERIT)){i.push(a.value);a=this.getToken(true,true);break}else if(a.isDimension()||a.isNumber("0")||a.isPercentage()||a.isIdent("auto")){i.push(a.value)}else return"";a=this.getToken(true,true)}var j=i.length;switch(j){case 1:e=i[0];f=e;g=e;h=e;break;case 2:e=i[0];f=e;g=i[1];h=g;break;case 3:e=i[0];g=i[1];h=g;f=i[2];break;case 4:e=i[0];h=i[1];f=i[2];g=i[3];break;default:return""}this.forgetState();b.push(this._createJscsspDeclarationFromValue(d+"-top",e));b.push(this._createJscsspDeclarationFromValue(d+"-right",h));b.push(this._createJscsspDeclarationFromValue(d+"-bottom",f));b.push(this._createJscsspDeclarationFromValue(d+"-left",g));return e+" "+h+" "+f+" "+g},parseBorderColorShorthand:function(a,b,c){var d=null;var e=null;var f=null;var g=null;var h=[];while(true){if(!a.isNotNull())break;if(a.isSymbol(";")||(c&&a.isSymbol("!"))||a.isSymbol("}")){if(a.isSymbol("}"))this.ungetToken();break}else if(!h.length&&a.isIdent(this.kINHERIT)){h.push(a.value);a=this.getToken(true,true);break}else{var i=this.parseColor(a);if(i)h.push(i);else return""}a=this.getToken(true,true)}var j=h.length;switch(j){case 1:d=h[0];e=d;f=d;g=d;break;case 2:d=h[0];e=d;f=h[1];g=f;break;case 3:d=h[0];f=h[1];g=f;e=h[2];break;case 4:d=h[0];g=h[1];e=h[2];f=h[3];break;default:return""}this.forgetState();b.push(this._createJscsspDeclarationFromValue("border-top-color",d));b.push(this._createJscsspDeclarationFromValue("border-right-color",g));b.push(this._createJscsspDeclarationFromValue("border-bottom-color",e));b.push(this._createJscsspDeclarationFromValue("border-left-color",f));return d+" "+g+" "+e+" "+f},parseCueShorthand:function(a,b,c){var d="";var e="";var f=[];var f=[];while(true){if(!a.isNotNull())break;if(a.isSymbol(";")||(c&&a.isSymbol("!"))||a.isSymbol("}")){if(a.isSymbol("}"))this.ungetToken();break}else if(!f.length&&a.isIdent(this.kINHERIT)){f.push(a.value)}else if(a.isIdent("none"))f.push(a.value);else if(a.isFunction("url(")){var a=this.getToken(true,true);var g=this.parseURL(a);if(g)f.push("url("+g);else return""}else return"";a=this.getToken(true,true)}var h=f.length;switch(h){case 1:d=f[0];e=d;break;case 2:d=f[0];e=f[1];break;default:return""}this.forgetState();aDecl.push(this._createJscsspDeclarationFromValue("cue-before",d));aDecl.push(this._createJscsspDeclarationFromValue("cue-after",e));return d+" "+e},parsePauseShorthand:function(a,b,c){var d="";var e="";var f=[];var f=[];while(true){if(!a.isNotNull())break;if(a.isSymbol(";")||(c&&a.isSymbol("!"))||a.isSymbol("}")){if(a.isSymbol("}"))this.ungetToken();break}else if(!f.length&&a.isIdent(this.kINHERIT)){f.push(a.value)}else if(a.isDimensionOfUnit("ms")||a.isDimensionOfUnit("s")||a.isPercentage()||a.isNumber("0"))f.push(a.value);else return"";a=this.getToken(true,true)}var g=f.length;switch(g){case 1:d=f[0];e=d;break;case 2:d=f[0];e=f[1];break;default:return""}this.forgetState();aDecl.push(this._createJscsspDeclarationFromValue("pause-before",d));aDecl.push(this._createJscsspDeclarationFromValue("pause-after",e));return d+" "+e},parseBorderWidthShorthand:function(a,b,c){var d=null;var e=null;var f=null;var g=null;var h=[];while(true){if(!a.isNotNull())break;if(a.isSymbol(";")||(c&&a.isSymbol("!"))||a.isSymbol("}")){if(a.isSymbol("}"))this.ungetToken();break}else if(!h.length&&a.isIdent(this.kINHERIT)){h.push(a.value)}else if(a.isDimension()||a.isNumber("0")||(a.isIdent()&&a.value in this.kBORDER_WIDTH_NAMES)){h.push(a.value)}else return"";a=this.getToken(true,true)}var i=h.length;switch(i){case 1:d=h[0];e=d;f=d;g=d;break;case 2:d=h[0];e=d;f=h[1];g=f;break;case 3:d=h[0];f=h[1];g=f;e=h[2];break;case 4:d=h[0];g=h[1];e=h[2];f=h[3];break;default:return""}this.forgetState();b.push(this._createJscsspDeclarationFromValue("border-top-width",d));b.push(this._createJscsspDeclarationFromValue("border-right-width",g));b.push(this._createJscsspDeclarationFromValue("border-bottom-width",e));b.push(this._createJscsspDeclarationFromValue("border-left-width",f));return d+" "+g+" "+e+" "+f},parseBorderStyleShorthand:function(a,b,c){var d=null;var e=null;var f=null;var g=null;var h=[];while(true){if(!a.isNotNull())break;if(a.isSymbol(";")||(c&&a.isSymbol("!"))||a.isSymbol("}")){if(a.isSymbol("}"))this.ungetToken();break}else if(!h.length&&a.isIdent(this.kINHERIT)){h.push(a.value)}else if(a.isIdent()&&a.value in this.kBORDER_STYLE_NAMES){h.push(a.value)}else return"";a=this.getToken(true,true)}var i=h.length;switch(i){case 1:d=h[0];e=d;f=d;g=d;break;case 2:d=h[0];e=d;f=h[1];g=f;break;case 3:d=h[0];f=h[1];g=f;e=h[2];break;case 4:d=h[0];g=h[1];e=h[2];f=h[3];break;default:return""}this.forgetState();b.push(this._createJscsspDeclarationFromValue("border-top-style",d));b.push(this._createJscsspDeclarationFromValue("border-right-style",g));b.push(this._createJscsspDeclarationFromValue("border-bottom-style",e));b.push(this._createJscsspDeclarationFromValue("border-left-style",f));return d+" "+g+" "+e+" "+f},parseBorderEdgeOrOutlineShorthand:function(e,f,g,h){var i=null;var j=null;var k=null;while(true){if(!e.isNotNull())break;if(e.isSymbol(";")||(g&&e.isSymbol("!"))||e.isSymbol("}")){if(e.isSymbol("}"))this.ungetToken();break}else if(!i&&!j&&!k&&e.isIdent(this.kINHERIT)){i=this.kINHERIT;j=this.kINHERIT;k=this.kINHERIT}else if(!i&&(e.isDimension()||(e.isIdent()&&e.value in this.kBORDER_WIDTH_NAMES)||e.isNumber("0"))){i=e.value}else if(!j&&(e.isIdent()&&e.value in this.kBORDER_STYLE_NAMES)){j=e.value}else{var l=(h=="outline"&&e.isIdent("invert"))?"invert":this.parseColor(e);if(!k&&l)k=l;else return""}e=this.getToken(true,true)}this.forgetState();i=i?i:"medium";j=j?j:"none";k=k?k:"-moz-initial";function addPropertyToDecl(a,b,d,w,s,c){b.push(a._createJscsspDeclarationFromValue(d+"-width",w));b.push(a._createJscsspDeclarationFromValue(d+"-style",s));b.push(a._createJscsspDeclarationFromValue(d+"-color",c))}if(h=="border"){addPropertyToDecl(this,f,"border-top",i,j,k);addPropertyToDecl(this,f,"border-right",i,j,k);addPropertyToDecl(this,f,"border-bottom",i,j,k);addPropertyToDecl(this,f,"border-left",i,j,k)}else addPropertyToDecl(this,f,h,i,j,k);return i+" "+j+" "+k},parseBackgroundShorthand:function(a,b,c){var d={"left":true,"right":true};var e={"top":true,"bottom":true};var f={"left":true,"right":true,"top":true,"bottom":true,"center":true};var g=null;var h=null;var i=null;var j=null;var k=null;while(true){if(!a.isNotNull())break;if(a.isSymbol(";")||(c&&a.isSymbol("!"))||a.isSymbol("}")){if(a.isSymbol("}"))this.ungetToken();break}else if(!g&&!h&&!i&&!j&&!k&&a.isIdent(this.kINHERIT)){g=this.kINHERIT;h=this.kINHERIT;i=this.kINHERIT;j=this.kINHERIT;k=this.kINHERIT}else{if(!i&&(a.isIdent("scroll")||a.isIdent("fixed"))){i=a.value}else if(!k&&((a.isIdent()&&a.value in f)||a.isDimension()||a.isNumber("0")||a.isPercentage())){k=a.value;a=this.getToken(true,true);if(a.isDimension()||a.isNumber("0")||a.isPercentage()){k+=" "+a.value}else if(a.isIdent()&&a.value in f){if((k in d&&a.value in d)||(k in e&&a.value in e))return"";k+=" "+a.value}else{this.ungetToken();k+=" center"}}else if(!h&&(a.isIdent("repeat")||a.isIdent("repeat-x")||a.isIdent("repeat-y")||a.isIdent("no-repeat"))){h=a.value}else if(!j&&(a.isFunction("url(")||a.isIdent("none"))){j=a.value;if(a.isFunction("url(")){a=this.getToken(true,true);var l=this.parseURL(a);if(l)j+=l;else return""}}else{var m=this.parseColor(a);if(!g&&m)g=m;else return""}}a=this.getToken(true,true)}this.forgetState();g=g?g:"transparent";j=j?j:"none";h=h?h:"repeat";i=i?i:"scroll";k=k?k:"top left";b.push(this._createJscsspDeclarationFromValue("background-color",g));b.push(this._createJscsspDeclarationFromValue("background-image",j));b.push(this._createJscsspDeclarationFromValue("background-repeat",h));b.push(this._createJscsspDeclarationFromValue("background-attachment",i));b.push(this._createJscsspDeclarationFromValue("background-position",k));return g+" "+j+" "+h+" "+i+" "+k},parseListStyleShorthand:function(a,b,c){var d={"inside":true,"outside":true};var e=null;var f=null;var g=null;while(true){if(!a.isNotNull())break;if(a.isSymbol(";")||(c&&a.isSymbol("!"))||a.isSymbol("}")){if(a.isSymbol("}"))this.ungetToken();break}else if(!e&&!f&&!g&&a.isIdent(this.kINHERIT)){e=this.kINHERIT;f=this.kINHERIT;g=this.kINHERIT}else if(!e&&(a.isIdent()&&a.value in this.kLIST_STYLE_TYPE_NAMES)){e=a.value}else if(!f&&(a.isIdent()&&a.value in d)){f=a.value}else if(!g&&a.isFunction("url")){a=this.getToken(true,true);var h=this.parseURL(a);if(h){g="url("+h}else return""}else if(!a.isIdent("none"))return"";a=this.getToken(true,true)}this.forgetState();e=e?e:"none";g=g?g:"none";f=f?f:"outside";b.push(this._createJscsspDeclarationFromValue("list-style-type",e));b.push(this._createJscsspDeclarationFromValue("list-style-position",f));b.push(this._createJscsspDeclarationFromValue("list-style-image",g));return e+" "+f+" "+g},parseFontShorthand:function(a,b,c){var d={"italic":true,"oblique":true};var e={"small-caps":true};var f={"bold":true,"bolder":true,"lighter":true,"100":true,"200":true,"300":true,"400":true,"500":true,"600":true,"700":true,"800":true,"900":true};var g={"xx-small":true,"x-small":true,"small":true,"medium":true,"large":true,"x-large":true,"xx-large":true,"larger":true,"smaller":true};var h={"caption":true,"icon":true,"menu":true,"message-box":true,"small-caption":true,"status-bar":true};var i={"serif":true,"sans-serif":true,"cursive":true,"fantasy":true,"monospace":true};var j=null;var k=null;var l=null;var m=null;var n=null;var o="";var p=null;var q=[];var r=0;while(true){if(!a.isNotNull())break;if(a.isSymbol(";")||(c&&a.isSymbol("!"))||a.isSymbol("}")){if(a.isSymbol("}"))this.ungetToken();break}else if(!j&&!k&&!l&&!m&&!n&&!o&&!p&&a.isIdent(this.kINHERIT)){j=this.kINHERIT;k=this.kINHERIT;l=this.kINHERIT;m=this.kINHERIT;n=this.kINHERIT;o=this.kINHERIT;p=this.kINHERIT}else{if(!p&&(a.isIdent()&&a.value in h)){p=a.value;break}else{if(!j&&a.isIdent()&&(a.value in d)){j=a.value}else if(!k&&a.isIdent()&&(a.value in e)){k=a.value}else if(!l&&(a.isIdent()||a.isNumber())&&(a.value in f)){l=a.value}else if(!m&&((a.isIdent()&&(a.value in g))||a.isDimension()||a.isPercentage())){m=a.value;var a=this.getToken(false,false);if(a.isSymbol("/")){a=this.getToken(false,false);if(!n&&(a.isDimension()||a.isNumber()||a.isPercentage())){n=a.value}else return""}else this.ungetToken()}else if(a.isIdent("normal")){r++;if(r>3)return""}else if(!o&&(a.isString()||a.isIdent())){var s=false;while(true){if(!a.isNotNull())break;else if(a.isSymbol(";")||(c&&a.isSymbol("!"))||a.isSymbol("}")){this.ungetToken();break}else if(a.isIdent()&&a.value in i){var t=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null);t.value=a.value;q.push(t);o+=a.value;break}else if(a.isString()||a.isIdent()){var t=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null);t.value=a.value;q.push(t);o+=a.value;s=false}else if(!s&&a.isSymbol(",")){o+=", ";s=true}else return"";a=this.getToken(true,true)}}else{return""}}}a=this.getToken(true,true)}this.forgetState();if(p){b.push(this._createJscsspDeclarationFromValue("font",p));return p}j=j?j:"normal";k=k?k:"normal";l=l?l:"normal";m=m?m:"medium";n=n?n:"normal";o=o?o:"-moz-initial";b.push(this._createJscsspDeclarationFromValue("font-style",j));b.push(this._createJscsspDeclarationFromValue("font-variant",k));b.push(this._createJscsspDeclarationFromValue("font-weight",l));b.push(this._createJscsspDeclarationFromValue("font-size",m));b.push(this._createJscsspDeclarationFromValue("line-height",n));b.push(this._createJscsspDeclarationFromValuesArray("font-family",q,o));return j+" "+k+" "+l+" "+m+"/"+n+" "+o},_createJscsspDeclaration:function(a,b){var c=new jscsspDeclaration();c.property=a;c.value=this.trim11(b);c.parsedCssText=a+": "+b+";";return c},_createJscsspDeclarationFromValue:function(a,b){var c=new jscsspDeclaration();c.property=a;var d=new jscsspVariable(kJscsspPRIMITIVE_VALUE,null);d.value=b;c.values=[d];c.valueText=b;c.parsedCssText=a+": "+b+";";return c},_createJscsspDeclarationFromValuesArray:function(a,b,c){var d=new jscsspDeclaration();d.property=a;d.values=b;d.valueText=c;d.parsedCssText=a+": "+c+";";return d},parseURL:function(a){var b="";if(a.isString()){b+=a.value;a=this.getToken(true,true)}else while(true){if(!a.isNotNull())return"";if(a.isWhiteSpace()){nextToken=this.lookAhead(true,true);if(!nextToken.isSymbol(")")){a=this.currentToken();break}}if(a.isSymbol(")")){break}b+=a.value;a=this.getToken(false,false)}if(a.isSymbol(")")){var v=this.trim11(b);if((v[0]=="'"&&v[v.length-1]=="'")||(v[0]=='"'&&v[v.length-1]=='"'))v=v.substring(1,v.length-2)var r=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?","");var m=v.match(r)if(m){if(m[5].match(/[^a-z0-9\\-_\\.!~\\*'\\(\\)]/g))return null}return b+")"}return""},parseFunctionArgument:function(a){var b="";if(a.isString()){b+=a.value;a=this.getToken(true,true)}else while(true){if(!a.isNotNull())return"";if(a.isSymbol(")")){break}b+=a.value;a=this.getToken(false,false)}if(a.isSymbol(")"))return b+")";return""},parseColor:function(a){var b="";if(a.isFunction("rgb(")||a.isFunction("rgba(")){b=a.value;var c=a.isFunction("rgba(")a=this.getToken(true,true);if(!a.isNumber()&&!a.isPercentage())return"";b+=a.value;a=this.getToken(true,true);if(!a.isSymbol(","))return"";b+=", ";a=this.getToken(true,true);if(!a.isNumber()&&!a.isPercentage())return"";b+=a.value;a=this.getToken(true,true);if(!a.isSymbol(","))return"";b+=", ";a=this.getToken(true,true);if(!a.isNumber()&&!a.isPercentage())return"";b+=a.value;if(c){a=this.getToken(true,true);if(!a.isSymbol(","))return"";b+=", ";a=this.getToken(true,true);if(!a.isNumber())return"";b+=a.value}a=this.getToken(true,true);if(!a.isSymbol(")"))return"";b+=a.value}else if(a.isFunction("hsl(")||a.isFunction("hsla(")){b=a.value;var d=a.isFunction("hsla(")a=this.getToken(true,true);if(!a.isNumber())return"";b+=a.value;a=this.getToken(true,true);if(!a.isSymbol(","))return"";b+=", ";a=this.getToken(true,true);if(!a.isPercentage())return"";b+=a.value;a=this.getToken(true,true);if(!a.isSymbol(","))return"";b+=", ";a=this.getToken(true,true);if(!a.isPercentage())return"";b+=a.value;if(d){a=this.getToken(true,true);if(!a.isSymbol(","))return"";b+=", ";a=this.getToken(true,true);if(!a.isNumber())return"";b+=a.value}a=this.getToken(true,true);if(!a.isSymbol(")"))return"";b+=a.value}else if(a.isIdent()&&(a.value in this.kCOLOR_NAMES))b=a.value;else if(a.isSymbol("#")){a=this.getHexValue();if(!a.isHex())return"";var e=a.value.length;if(e!=3&&e!=6)return"";if(a.value.match(/[a-fA-F0-9]/g).length!=e)return"";b="#"+a.value}return b},parseDeclaration:function(a,b,c,d,e){this.preserveState();var f=[];if(a.isIdent()){var g=a.value.toLowerCase();var h=this.getToken(true,true);if(h.isSymbol(":")){var h=this.getToken(true,true);var j="";var k=[];if(d)switch(g){case"background":j=this.parseBackgroundShorthand(h,k,c);break;case"margin":case"padding":j=this.parseMarginOrPaddingShorthand(h,k,c,g);break;case"border-color":j=this.parseBorderColorShorthand(h,k,c);break;case"border-style":j=this.parseBorderStyleShorthand(h,k,c);break;case"border-width":j=this.parseBorderWidthShorthand(h,k,c);break;case"border-top":case"border-right":case"border-bottom":case"border-left":case"border":case"outline":j=this.parseBorderEdgeOrOutlineShorthand(h,k,c,g);break;case"cue":j=this.parseCueShorthand(h,k,c);break;case"pause":j=this.parsePauseShorthand(h,k,c);break;case"font":j=this.parseFontShorthand(h,k,c);break;case"list-style":j=this.parseListStyleShorthand(h,k,c);break;default:j=this.parseDefaultPropertyValue(h,k,c,g,e);break}else j=this.parseDefaultPropertyValue(h,k,c,g,e);h=this.currentToken();if(j){var l=false;if(h.isSymbol("!")){h=this.getToken(true,true);if(h.isIdent("important")){l=true;h=this.getToken(true,true);if(h.isSymbol(";")||h.isSymbol("}")){if(h.isSymbol("}"))this.ungetToken()}else return""}else return""}else if(h.isNotNull()&&!h.isSymbol(";")&&!h.isSymbol("}"))return"";for(var i=0;i<k.length;i++){k[i].priority=l;b.push(k[i])}return g+": "+j+";"}}}else if(a.isComment()){if(this.mPreserveComments){this.forgetState();var m=new jscsspComment();m.parsedCssText=a.value;b.push(m)}return a.value}this.restoreState();var s=a.value;f=[];var h=this.getToken(false,false);while(h.isNotNull()){s+=h.value;if((h.isSymbol(";")||h.isSymbol("}"))&&!f.length){if(h.isSymbol("}"))this.ungetToken();break}else if(h.isSymbol("{")||h.isSymbol("(")||h.isSymbol("[")||h.isFunction()){f.push(h.isFunction()?"(":h.value)}else if(h.isSymbol("}")||h.isSymbol(")")||h.isSymbol("]")){if(f.length){var n=f[f.length-1];if((h.isSymbol("}")&&n=="{")||(h.isSymbol(")")&&n=="(")||(h.isSymbol("]")&&n=="[")){f.pop()}}}h=this.getToken(false,false)}return""},parseMediaRule:function(a,b){var s=a.value;var c=false;var d=new jscsspMediaRule();this.preserveState();var e=this.getToken(true,true);var f=false;while(e.isNotNull()){if(e.isIdent()){f=true;s+=" "+e.value;d.media.push(e.value);e=this.getToken(true,true);if(e.isSymbol(",")){s+=","}else{if(e.isSymbol("{"))this.ungetToken();else{e.type=jscsspToken.NULL_TYPE;break}}}else if(e.isSymbol("{"))break;else if(f){e.type=jscsspToken.NULL_TYPE;break}e=this.getToken(true,true)}if(e.isSymbol("{")&&d.media.length){s+=" { ";e=this.getToken(true,false);while(e.isNotNull()){if(e.isComment()&&this.mPreserveComments){s+=" "+e.value;var g=new jscsspComment();g.parsedCssText=e.value;d.cssRules.push(g)}else if(e.isSymbol("}")){c=true;break}else{var r=this.parseStyleRule(e,d,true);if(r)s+=r}e=this.getToken(true,false)}}if(c){this.forgetState();d.parsedCssText=s;b.cssRules.push(d);return true}this.restoreState();return false},trim11:function(a){a=a.replace(/^\s+/,'');for(var i=a.length-1;i>=0;i--){if(/\S/.test(a.charAt(i))){a=a.substring(0,i+1);break}}return a},parseStyleRule:function(a,b,c){var e=this.mScanner.mCurrentLine;this.preserveState();var f=this.parseSelector(a,false);var g=false;var h=[];if(f){f=this.trim11(f);var s=f;var i=this.getToken(true,true);if(i.isSymbol("{")){s+=" { ";var i=this.getToken(true,false);while(true){if(!i.isNotNull()){g=true;break}if(i.isSymbol("}")){s+="}";g=true;break}else{var d=this.parseDeclaration(i,h,true,true,b);s+=((d&&h.length)?" ":"")+d}i=this.getToken(true,false)}}}else{}if(g){var j=new jscsspStyleRule();j.currentLine=e;j.parsedCssText=s;j.declarations=h;j.mSelectorText=f;if(c)j.parentRule=b;else j.parentStyleSheet=b;b.cssRules.push(j);return s}this.restoreState();s=this.currentToken().value;this.addUnknownAtRule(b,s);return""},parseSelector:function(a,b){var s="";var c=true;var d=a;var e=false;var f=false;while(true){if(!d.isNotNull()){if(b)return s;return""}if(!b&&d.isSymbol("{")){this.ungetToken();e=true;break}if(d.isSymbol(",")){s+=d.value;c=true;f=false;d=this.getToken(false,true);continue}else if(!f&&(d.isWhiteSpace()||d.isSymbol(">")||d.isSymbol("+")||d.isSymbol("~"))){if(d.isWhiteSpace())s+=" ";else s+=d.value;if(d.isSymbol(">")||d.isSymbol("+")||d.isSymbol("~"))f=true;d=this.getToken(true,true);continue}else{var g=this.parseSimpleSelector(d,c,true);if(!g)break;s+=g}c==false;f=false;d=this.getToken(false,true)}if(e){return s}return""},parseSimpleSelector:function(a,b,c){var s="";if(b&&(a.isSymbol("*")||a.isSymbol("|")||a.isIdent())){if(a.isSymbol("*")||a.isIdent()){s+=a.value;a=this.getToken(false,true);if(a.isSymbol("|")){s+=a.value;a=this.getToken(false,true);if(a.isIdent()||a.isSymbol("*")){s+=a.value}else return null}else this.ungetToken()}else if(a.isSymbol("|")){s+=a.value;a=this.getToken(false,true);if(a.isIdent()||a.isSymbol("*")){s+=a.value}else return null}}else if(a.isSymbol(".")||a.isSymbol("#")){s+=a.value;a=this.getToken(false,true);if(a.isIdent())s+=a.value else return null}else if(a.isSymbol(":")){s+=a.value;a=this.getToken(false,true);if(a.isSymbol(":")){s+=a.value;a=this.getToken(false,true)}if(a.isIdent())s+=a.value else if(a.isFunction()){s+=a.value;if(a.isFunction(":not(")){if(!c)return null;a=this.getToken(true,true);var d=this.parseSimpleSelector(a,b,false);if(!d)return null;else{s+=d;a=this.getToken(true,true);if(a.isSymbol(")"))s+=")";else return null}}else while(true){a=this.getToken(false,true);if(a.isSymbol(")")){s+=")";break}else s+=a.value}}else return null}else if(a.isSymbol("[")){s+="[";a=this.getToken(true,true);if(a.isIdent()||a.isSymbol("*")){s+=a.value;var e=this.getToken(true,true);if(a.isSymbol("|")){s+="|";a=this.getToken(true,true);if(a.isIdent())s+=a.value;else return null}else this.ungetToken()}else if(a.isSymbol("|")){s+="|";a=this.getToken(true,true);if(a.isIdent())s+=a.value;else return null}else return null;a=this.getToken(true,true);if(a.isIncludes()||a.isDashmatch()||a.isBeginsmatch()||a.isEndsmatch()||a.isContainsmatch()||a.isSymbol("=")){s+=a.value;a=this.getToken(true,true);if(a.isString()||a.isIdent()){s+=a.value;a=this.getToken(true,true)}else return null;if(a.isSymbol("]"))s+=a.value;else return null}else if(a.isSymbol("]"))s+=a.value;else return null}else if(a.isWhiteSpace()){var t=this.lookAhead(true,true);if(t.isSymbol('{'))return""}if(s)return s;return null},preserveState:function(){this.mPreservedTokens.push(this.currentToken());this.mScanner.preserveState()},restoreState:function(){if(this.mPreservedTokens.length){this.mScanner.restoreState();this.mToken=this.mPreservedTokens.pop()}},forgetState:function(){if(this.mPreservedTokens.length){this.mScanner.forgetState();this.mPreservedTokens.pop()}},parse:function(a,b,c){if(!a)return null;this.mPreserveWS=b;this.mPreserveComments=c;this.mPreservedTokens=[];this.mScanner.init(a);var d=new jscsspStylesheet();var e=this.getToken(false,false);if(!e.isNotNull())return;if(e.isAtRule("@charset")){this.parseCharsetRule(e,d);e=this.getToken(false,false)}var f=false;var g=false;var h=false;while(true){if(!e.isNotNull())break;if(e.isWhiteSpace()){if(b)this.addWhitespace(d,e.value)}else if(e.isComment()){if(this.mPreserveComments)this.addComment(d,e.value)}else if(e.isAtRule()){if(e.isAtRule("@variables")){if(!g&&!f)this.parseVariablesRule(e,d);else this.addUnknownAtRule(d,e.value)}else if(e.isAtRule("@import")){if(!f&&!h)g=this.parseImportRule(e,d);else this.addUnknownAtRule(d,e.value)}else if(e.isAtRule("@namespace")){if(!f)h=this.parseNamespaceRule(e,d);else this.addUnknownAtRule(d,e.value)}else if(e.isAtRule("@font-face")){if(this.parseFontFaceRule(e,d))f=true;else this.addUnknownAtRule(d,e.value)}else if(e.isAtRule("@page")){if(this.parsePageRule(e,d))f=true;else this.addUnknownAtRule(d,e.value)}else if(e.isAtRule("@media")){if(this.parseMediaRule(e,d))f=true;else this.addUnknownAtRule(d,e.value)}else this.addUnknownAtRule(d,e.value)}else{var i=this.parseStyleRule(e,d,false);if(i)f=true}e=this.getToken(false)}return d}};function jscsspToken(a,b,c){this.type=a;this.value=b;this.unit=c}jscsspToken.NULL_TYPE=0;jscsspToken.WHITESPACE_TYPE=1;jscsspToken.STRING_TYPE=2;jscsspToken.COMMENT_TYPE=3;jscsspToken.NUMBER_TYPE=4;jscsspToken.IDENT_TYPE=5;jscsspToken.FUNCTION_TYPE=6;jscsspToken.ATRULE_TYPE=7;jscsspToken.INCLUDES_TYPE=8;jscsspToken.DASHMATCH_TYPE=9;jscsspToken.BEGINSMATCH_TYPE=10;jscsspToken.ENDSMATCH_TYPE=11;jscsspToken.CONTAINSMATCH_TYPE=12;jscsspToken.SYMBOL_TYPE=13;jscsspToken.DIMENSION_TYPE=14;jscsspToken.PERCENTAGE_TYPE=15;jscsspToken.HEX_TYPE=16;jscsspToken.prototype={isNotNull:function(){return this.type},_isOfType:function(a,b){return(this.type==a&&(!b||this.value.toLowerCase()==b))},isWhiteSpace:function(w){return this._isOfType(jscsspToken.WHITESPACE_TYPE,w)},isString:function(){return this._isOfType(jscsspToken.STRING_TYPE)},isComment:function(){return this._isOfType(jscsspToken.COMMENT_TYPE)},isNumber:function(n){return this._isOfType(jscsspToken.NUMBER_TYPE,n)},isSymbol:function(c){return this._isOfType(jscsspToken.SYMBOL_TYPE,c)},isIdent:function(i){return this._isOfType(jscsspToken.IDENT_TYPE,i)},isFunction:function(f){return this._isOfType(jscsspToken.FUNCTION_TYPE,f)},isAtRule:function(a){return this._isOfType(jscsspToken.ATRULE_TYPE,a)},isIncludes:function(){return this._isOfType(jscsspToken.INCLUDES_TYPE)},isDashmatch:function(){return this._isOfType(jscsspToken.DASHMATCH_TYPE)},isBeginsmatch:function(){return this._isOfType(jscsspToken.BEGINSMATCH_TYPE)},isEndsmatch:function(){return this._isOfType(jscsspToken.ENDSMATCH_TYPE)},isContainsmatch:function(){return this._isOfType(jscsspToken.CONTAINSMATCH_TYPE)},isSymbol:function(c){return this._isOfType(jscsspToken.SYMBOL_TYPE,c)},isDimension:function(){return this._isOfType(jscsspToken.DIMENSION_TYPE)},isPercentage:function(){return this._isOfType(jscsspToken.PERCENTAGE_TYPE)},isHex:function(){return this._isOfType(jscsspToken.HEX_TYPE)},isDimensionOfUnit:function(a){return(this.isDimension()&&this.unit==a)}}var kJscsspUNKNOWN_RULE=0;var kJscsspSTYLE_RULE=1 var kJscsspCHARSET_RULE=2;var kJscsspIMPORT_RULE=3;var kJscsspMEDIA_RULE=4;var kJscsspFONT_FACE_RULE=5;var kJscsspPAGE_RULE=6;var kJscsspVARIABLES_RULE=7;var kJscsspNAMESPACE_RULE=100;var kJscsspCOMMENT=101;var kJscsspWHITE_SPACE=102;var kJscsspSTYLE_DECLARATION=1000;var gTABS="";function jscsspStylesheet(){this.cssRules=[];this.variables={}}jscsspStylesheet.prototype={insertRule:function(a,b){try{this.cssRules.splice(b,1,a)}catch(e){dump("DOMException: jscsspStylesheet.insertRule\n")}},deleteRule:function(a){try{this.cssRules.splice(a)}catch(e){dump("DOMException: jscsspStylesheet.insertRule\n")}},cssText:function(){var a="";for(var i=0;i<this.cssRules.length;i++)a+=this.cssRules[i].cssText()+"\n";return a},htmlText:function(){var a="";for(var i=0;i<this.cssRules.length;i++)a+=this.cssRules[i].htmlText()+"<br>";return a},resolveVariables:function(c){function ItemFoundInArray(a,b){for(var i=0;i<a.length;i++)if(b==a[i])return true;return false}for(var i=0;i<this.cssRules.length;i++){var d=this.cssRules[i];if(d.type==kJscsspSTYLE_RULE||d.type==kJscsspIMPORT_RULE)break;else if(d.type==kJscsspVARIABLES_RULE&&(!d.media.length||ItemFoundInArray(d.media,c))){for(var j=0;j<d.declarations.length;j++){var e="";for(var k=0;k<d.declarations[j].values.length;k++)e+=(k?" ":"")+d.declarations[j].values[k].value;this.variables[d.declarations[j].property]=e}}}}};function jscsspCharsetRule(){this.type=kJscsspCHARSET_RULE;this.encoding=null;this.parsedCssText=null;this.parentStyleSheet=null;this.parentRule=null}jscsspCharsetRule.prototype={cssText:function(){return"@charset "+this.encoding+";"},htmlText:function(){return"<span class='atrule'>@charset</span>&nbsp;<span class='string'>"+this.encoding+"</span>;"},setCssText:function(a){var b={cssRules:[]};var c=new CSSParser(a);var d=c.getToken(false,false);if(d.isAtRule("@charset")){if(c.parseCharsetRule(d,b)){var e=b.cssRules[0];this.encoding=e.encoding;this.parsedCssText=e.parsedCssText;return}}throw DOMException.SYNTAX_ERR;}};function jscsspErrorRule(){this.type=kJscsspUNKNOWN_RULE;this.parsedCssText=null;this.parentStyleSheet=null;this.parentRule=null}jscsspErrorRule.prototype={cssText:function(){return this.parsedCssText},htmlText:function(){return"<span class='error'>"+this.parsedCssText+"</span>"}};function jscsspComment(){this.type=kJscsspCOMMENT;this.parsedCssText=null;this.parentStyleSheet=null;this.parentRule=null}jscsspComment.prototype={cssText:function(){return this.parsedCssText},htmlText:function(){return"<span class='comment'>"+this.parsedCssText+"</span>"},setCssText:function(a){var b=new CSSParser(a);var c=b.getToken(true,false);if(c.isComment())this.parsedCssText=c.value;else throw DOMException.SYNTAX_ERR;}};function jscsspWhitespace(){this.type=kJscsspWHITE_SPACE;this.parsedCssText=null;this.parentStyleSheet=null;this.parentRule=null}jscsspWhitespace.prototype={cssText:function(){return this.parsedCssText},htmlText:function(){return this.cssText().replace(/ /g,"&nbsp;").replace(/\n/g,"<br>")},};function jscsspImportRule(){this.type=kJscsspIMPORT_RULE;this.parsedCssText=null;this.href=null;this.media=[];this.parentStyleSheet=null;this.parentRule=null}jscsspImportRule.prototype={cssText:function(){var a=this.media.join(", ");return"@import "+(a?a+" ":"")+this.href+";"},htmlText:function(){var a="";if(this.media.length)a="<span class='medium'>"+this.media.join("</span>, <span class='medium'>")+"</span>";return"<span class='atrule'>@import</span> "+(a?a+" ":"")+"<span class='url'>"+this.href+"</span>"+";"},setCssText:function(a){var b={cssRules:[]};var c=new CSSParser(a);var d=c.getToken(true,true);if(d.isAtRule("@import")){if(c.parseImportRule(d,b)){var e=b.cssRules[0];this.href=e.href;this.media=e.media;this.parsedCssText=e.parsedCssText;return}}throw DOMException.SYNTAX_ERR;}};function jscsspNamespaceRule(){this.type=kJscsspNAMESPACE_RULE;this.parsedCssText=null;this.prefix=null;this.url=null;this.parentStyleSheet=null;this.parentRule=null}jscsspNamespaceRule.prototype={cssText:function(){return"@namespace "+(this.prefix?this.prefix+" ":"")+this.url+";"},htmlText:function(){return"<span class='atrule'>@namespace</span> "+(this.prefix?this.prefix+" ":"")+"<span class='url'>"+this.url+"</span>"+";"},setCssText:function(a){var b={cssRules:[]};var c=new CSSParser(a);var d=c.getToken(true,true);if(d.isAtRule("@namespace")){if(c.parseNamespaceRule(d,b)){var e=b.cssRules[0];this.url=e.url;this.prefix=e.prefix;this.parsedCssText=e.parsedCssText;return}}throw DOMException.SYNTAX_ERR;}};function jscsspDeclaration(){this.type=kJscsspSTYLE_DECLARATION;this.property=null;this.values=[];this.valueText=null;this.priority=null;this.parsedCssText=null;this.parentStyleSheet=null;this.parentRule=null}jscsspDeclaration.prototype={kCOMMA_SEPARATED:{"cursor":true,"font-family":true,"voice-family":true},htmlText:function(){var a="<span class='property'>"+this.property+"</span>: ";var b=(this.property in this.kCOMMA_SEPARATED)?", ":" ";for(var i=0;i<this.values.length;i++)if(this.values[i].cssText()!=null)a+=(i?b:"")+"<span class='value'>"+this.values[i].cssText()+"</span>";else return null;return a+(this.priority?" <span class='bang'>!important</span>":"")+";"},cssText:function(){var a=this.property+": ";var b=(this.property in this.kCOMMA_SEPARATED)?", ":" ";for(var i=0;i<this.values.length;i++)if(this.values[i].cssText()!=null)a+=(i?b:"")+this.values[i].cssText();else return null;return a+(this.priority?" !important":"")+";"},setCssText:function(a){var b=[];var c=new CSSParser(a);var d=c.getToken(true,true);if(c.parseDeclaration(d,b,true,true,null)&&b.length&&b[0].type==kJscsspSTYLE_DECLARATION){var e=b.cssRules[0];this.property=e.property;this.value=e.value;this.priority=e.priority;this.parsedCssText=newRule.parsedCssText;return}throw DOMException.SYNTAX_ERR;}};function jscsspFontFaceRule(){this.type=kJscsspFONT_FACE_RULE;this.parsedCssText=null;this.descriptors=[];this.parentStyleSheet=null;this.parentRule=null}jscsspFontFaceRule.prototype={cssText:function(){var a=gTABS+"@font-face {\n";var b=gTABS;gTABS+="  ";for(var i=0;i<this.descriptors.length;i++)a+=gTABS+this.descriptors[i].cssText()+"\n";gTABS=b;return a+gTABS+"}"},htmlText:function(){var a=gTABS+"<span class='atrule'>@font-face</span> {<br>";var b=gTABS;gTABS+="&nbsp;&nbsp;";for(var i=0;i<this.descriptors.length;i++)a+=gTABS+this.descriptors[i].htmlText()+"<br>";gTABS=b;return a+gTABS+"}"},setCssText:function(a){var b={cssRules:[]};var c=new CSSParser(a);var d=c.getToken(true,true);if(d.isAtRule("@font-face")){if(c.parseFontFaceRule(d,b)){var e=b.cssRules[0];this.descriptors=e.descriptors;this.parsedCssText=e.parsedCssText;return}}throw DOMException.SYNTAX_ERR;}};function jscsspMediaRule(){this.type=kJscsspMEDIA_RULE;this.parsedCssText=null;this.cssRules=[];this.media=[];this.parentStyleSheet=null;this.parentRule=null}jscsspMediaRule.prototype={cssText:function(){var a=gTABS+"@media "+this.media.join(", ")+" {\n";var b=gTABS;gTABS+="  ";for(var i=0;i<this.cssRules.length;i++)a+=gTABS+this.cssRules[i].cssText()+"\n";gTABS=b;return a+gTABS+"}"},htmlText:function(){var a="";if(this.media.length)a="<span class='medium'>"+this.media.join("</span>, <span class='medium'>")+"</span>";var b=gTABS+"<span class='atrule'>@media</span> "+a+" {<br>";var c=gTABS;gTABS+="&nbsp;&nbsp;";for(var i=0;i<this.cssRules.length;i++)b+=gTABS+this.cssRules[i].htmlText()+"<br>";gTABS=c;return b+gTABS+"}"},setCssText:function(a){var b={cssRules:[]};var c=new CSSParser(a);var d=c.getToken(true,true);if(d.isAtRule("@media")){if(c.parseMediaRule(d,b)){var e=b.cssRules[0];this.cssRules=e.cssRules;this.media=e.media;this.parsedCssText=e.parsedCssText;return}}throw DOMException.SYNTAX_ERR;}};function jscsspStyleRule(){this.type=kJscsspSTYLE_RULE;this.parsedCssText=null;this.declarations=[]this.mSelectorText=null;this.parentStyleSheet=null;this.parentRule=null}jscsspStyleRule.prototype={cssText:function(){var a=this.mSelectorText+" {\n";var b=gTABS;gTABS+="  ";for(var i=0;i<this.declarations.length;i++){var c=this.declarations[i].cssText();if(c)a+=gTABS+this.declarations[i].cssText()+"\n"}gTABS=b;return a+gTABS+"}"},htmlText:function(){var a="<span class='selector'>"+this.mSelectorText+"</span> {<br>";var b=gTABS;gTABS+="&nbsp;&nbsp;";for(var i=0;i<this.declarations.length;i++){var c=this.declarations[i].htmlText();if(c)a+=gTABS+this.declarations[i].htmlText()+"<br>"}gTABS=b;return a+gTABS+"}"},setCssText:function(a){var b={cssRules:[]};var c=new CSSParser(a);var d=c.getToken(true,true);if(!d.isNotNull()){if(c.parseStyleRule(d,b,false)){var e=b.cssRules[0];this.mSelectorText=e.mSelectorText;this.declarations=e.declarations;this.parsedCssText=e.parsedCssText;return}}throw DOMException.SYNTAX_ERR;},selectorText:function(){return this.mSelectorText},setSelectorText:function(a){var b=new CSSParser(a);var c=b.getToken(true,true);if(!c.isNotNull()){var s=b.parseSelector(c,true);if(s){this.mSelectorText=s;return}}throw DOMException.SYNTAX_ERR;}};function jscsspPageRule(){this.type=kJscsspPAGE_RULE;this.parsedCssText=null;this.pageSelector=null;this.declarations=[];this.parentStyleSheet=null;this.parentRule=null}jscsspPageRule.prototype={cssText:function(){var a=gTABS+"@page "+(this.pageSelector?this.pageSelector+" ":"")+"{\n";var b=gTABS;gTABS+="  ";for(var i=0;i<this.declarations.length;i++)a+=gTABS+this.declarations[i].cssText()+"\n";gTABS=b;return a+gTABS+"}"},htmlText:function(){var a=gTABS+"<span class='atrule'>@page</span> "+(this.pageSelector?"<span class='selector'>"+this.pageSelector+"</span> ":"")+"{<br>";var b=gTABS;gTABS+="&nbsp;&nbsp;";for(var i=0;i<this.declarations.length;i++)a+=gTABS+this.declarations[i].htmlText()+"<br>";gTABS=b;return a+gTABS+"}"},setCssText:function(a){var b={cssRules:[]};var c=new CSSParser(a);var d=c.getToken(true,true);if(d.isAtRule("@page")){if(c.parsePageRule(d,b)){var e=b.cssRules[0];this.pageSelector=e.pageSelector;this.declarations=e.declarations;this.parsedCssText=e.parsedCssText;return}}throw DOMException.SYNTAX_ERR;}};function jscsspVariablesRule(){this.type=kJscsspVARIABLES_RULE;this.parsedCssText=null;this.declarations=[];this.parentStyleSheet=null;this.parentRule=null;this.media=null}jscsspVariablesRule.prototype={cssText:function(){var a=gTABS+"@variables "+(this.media.length?this.media.join(", ")+" ":"")+"{\n";var b=gTABS;gTABS+="  ";for(var i=0;i<this.declarations.length;i++)a+=gTABS+this.declarations[i].cssText()+"\n";gTABS=b;return a+gTABS+"}"},htmlText:function(){var a="";if(this.media.length)a="<span class='medium'>"+this.media.join("</span>, <span class='medium'>")+"</span>";var b=gTABS+"<span class='atrule'>@variables</span> "+(a?a+" ":"")+"{<br>";var c=gTABS;gTABS+="&nbsp;&nbsp;";for(var i=0;i<this.declarations.length;i++)b+=gTABS+this.declarations[i].htmlText()+"<br>";gTABS=c;return b+gTABS+"}"},setCssText:function(a){var b={cssRules:[]};var c=new CSSParser(a);var d=c.getToken(true,true);if(d.isAtRule("@variables")){if(c.parseVariablesRule(d,b)){var e=b.cssRules[0];this.declarations=e.declarations;this.parsedCssText=e.parsedCssText;return}}throw DOMException.SYNTAX_ERR;}};var kJscsspINHERIT_VALUE=0;var kJscsspPRIMITIVE_VALUE=1;var kJscsspVARIABLE_VALUE=4;function jscsspVariable(a,b){this.value="";this.type=a;this.name=null;this.parentRule=null;this.parentStyleSheet=b}jscsspVariable.prototype={cssText:function(){if(this.type==kJscsspVARIABLE_VALUE)return this.resolveVariable(this.name,this.parentRule,this.parentStyleSheet);else return this.value},setCssText:function(a){if(this.type==kJscsspVARIABLE_VALUE)throw DOMException.SYNTAX_ERR;else this.value=a},resolveVariable:function(a,b,c){if(a.toLowerCase()in c.variables)return c.variables[a.toLowerCase()];return null}};function ParseURL(a){var b={};b.protocol="";b.user="";b.password="";b.host="";b.port="";b.path="";b.query="";var c="PROTOCOL";var d=0;var e=false;while(d<a.length){if(c=="PROTOCOL"){if(a.charAt(d)==':'){c="AFTER_PROTOCOL";d++}else if(a.charAt(d)=='/'&&b.protocol.length()==0){c=PATH}else{b.protocol+=a.charAt(d++)}}else if(c=="AFTER_PROTOCOL"){if(a.charAt(d)=='/'){if(!e){e=true}else{e=false;c="USER"}d++}else{throw new ParseException("Protocol shell be separated with 2 slashes");}}else if(c=="USER"){if(a.charAt(d)=='/'){b.host=b.user;b.user="";c="PATH"}else if(a.charAt(d)=='?'){b.host=b.user;b.user="";c="QUERY";d++}else if(a.charAt(d)==':'){c="PASSWORD";d++}else if(a.charAt(d)=='@'){c="HOST";d++}else{b.user+=a.charAt(d++)}}else if(c=="PASSWORD"){if(a.charAt(d)=='/'){b.host=b.user;b.port=b.password;b.user="";b.password="";c="PATH"}else if(a.charAt(d)=='?'){b.host=b.user;b.port=b.password;b.user="";b.password="";c="QUERY";d++}else if(a.charAt(d)=='@'){c="HOST";d++}else{b.password+=a.charAt(d++)}}else if(c=="HOST"){if(a.charAt(d)=='/'){c="PATH"}else if(a.charAt(d)==':'){c="PORT";d++}else if(a.charAt(d)=='?'){c="QUERY";d++}else{b.host+=a.charAt(d++)}}else if(c=="PORT"){if(a.charAt(d)='/'){c="PATH"}else if(a.charAt(d)=='?'){c="QUERY";d++}else{b.port+=a.charAt(d++)}}else if(c=="PATH"){if(a.charAt(d)=='?'){c="QUERY";d++}else{b.path+=a.charAt(d++)}}else if(c=="QUERY"){b.query+=a.charAt(d++)}}if(c=="PROTOCOL"){b.host=b.protocol;b.protocol="http"}else if(c=="AFTER_PROTOCOL"){throw new ParseException("Invalid url");}else if(c=="USER"){b.host=b.user;b.user=""}else if(c=="PASSWORD"){b.host=b.user;b.port=b.password;b.user="";b.password=""}return b}function ParseException(a){this.description=a}function countChar(s){var a=s.match(/[^\r\n]/g);var b=s.match(/\r\n/g);if(a!=null){a=a.length}else{a=0}if(b!=null){b=b.length}else{b=0}var a=a+b;return a}